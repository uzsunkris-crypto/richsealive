<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>RichSea — Contest</title>
  <link rel="stylesheet" href="styles/style.css" />
  <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js" defer></script>
  <script src="js/app.js" defer></script>
</head>
<body>
  

  
  <!-- Sticky Header -->
  <header class="nav-wrap">
    <nav class="navbar">
      <a href="index.html" class="brand">
        <img src="images/Richsealogo.png" alt="RichSea logo" class="logo" />
        <span class="brand-name">$RICHSEA</span>
      </a>
      <ul class="nav-links">
        <li><a href="about.html">About</a></li>
        <li><a href="tokenomics.html">Tokenomics</a></li>
        <li><a href="community.html">Community</a></li>
        <li><a href="dashboard.html">Dashboard</a></li>
        <li><a href="news.html">News</a></li>
        <li><a href="academy.html">Academy</a></li>
        <li><a class="active" href="contest.html">Contest</a></li>
      </ul>
  <a class="btn btn-pill btn-primary" href="https://www.richsea.xyz">Launch App</a>
      
    </nav>
  </header>

  <section class="page-hero with-avatar">
   
    <div>
      <h1 class="grad">Contest Arena</h1>
      <p class="muted">Periodic, skill-based events where knowledge meets strategy. Track your rank, compete fairly, and celebrate wins.</p>
    </div>
  </section>

  <section class="grid-3">
    <article class="card glass"><h3>Fair Play</h3><p>Clear rules, transparent scoring, and anti-spam protections keep the field level.</p></article>
    <article class="card glass"><h3>Seasonal Themes</h3><p>Rotating topics and prize pools keep things fresh and aligned to the roadmap.</p></article>
    <article class="card glass"><h3>Recognition</h3><p>Top performers can earn badges, shout-outs, and future access perks.</p></article>
  </section>



<footer class="richsea-footer">
  <div class="footer-content">
    <!-- Top Section -->
    <div class="footer-brand">
      <h2>$RICHSEA</h2>
      <p>Empowering growth across digital seas.</p>
    </div>

    <!-- Links -->
    <div class="footer-links">
      <div>
        <h3>Company</h3>
        <a href="#">About</a>
        <a href="#">Careers</a>
        <a href="#">Press</a>
      </div>
      <div>
        <h3>Resources</h3>
        <a href="#">Academy</a>
        <a href="#">News</a>
        <a href="#">Help Center</a>
      </div>
      <div>
        <h3>Community</h3>
        <a href="#">Dashboard</a>
        <a href="#">Contest</a>
        <a href="#">Forum</a>
      </div>
      <div>
        <h3>Contact</h3>
        <a href="mailto:support@richsea.com">support@richsea.com</a>
        <a href="tel:+1234567890">+1 (234) 567-890</a>
      </div>
    </div>

    <!-- Socials -->
    <div class="socials">
      <a href="#"><i class="fab fa-linkedin"></i></a>
      <a href="#"><i class="fab fa-twitter"></i></a>
      <a href="#"><i class="fab fa-instagram"></i></a>
      <a href="#"><i class="fab fa-facebook"></i></a>
    </div>

    <!-- Bottom -->
    <div class="footer-bottom">
      <p>© 2025 Richsea. All rights reserved.</p>
      <div class="bottom-links">
        <a href="#">Privacy Policy</a>
        <a href="#">Terms of Service</a>
      </div>
    </div>
  </div>
</footer>

<!-- FontAwesome for icons -->
<script src="https://kit.fontawesome.com/yourkitid.js" crossorigin="anonymous"></script>

<style>
  .richsea-footer {
    background: linear-gradient(180deg, #0B1E36, #001220);
    color: #e0e0e0;
    padding: 40px 20px 20px;
    font-family: sans-serif;
    width: 100%;
  }

  .footer-content {
    max-width: 1200px;
    margin: auto;
  }

  /* Brand */
  .footer-brand {
    text-align: center;
    margin-bottom: 30px;
  }
  .footer-brand h2 {
    color: #3B82F6;
    margin-bottom: 8px;
  }
  .footer-brand p {
    color: #bbb;
    font-size: 14px;
  }

  /* Links Grid */
  .footer-links {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
    text-align: center;
  }
  .footer-links h3 {
    margin-bottom: 10px;
    font-size: 15px;
    color: #fff;
  }
  .footer-links a {
    display: block;
    margin: 5px 0;
    color: #bbb;
    text-decoration: none;
    font-size: 14px;
  }
  .footer-links a:hover {
    color: #3B82F6;
  }

  /* Socials */
  .socials {
    text-align: center;
    margin-bottom: 20px;
  }
  .socials a {
    margin: 0 8px;
    font-size: 20px;
    color: #bbb;
    transition: 0.3s;
  }
  .socials a:hover {
    color: #3B82F6;
  }

  /* Bottom */
  .footer-bottom {
    border-top: 1px solid #333;
    padding-top: 15px;
    text-align: center;
    font-size: 13px;
    color: #888;
  }
  .bottom-links {
    margin-top: 8px;
  }
  .bottom-links a {
    margin: 0 6px;
    color: #888;
    text-decoration: none;
  }
  .bottom-links a:hover {
    color: #3B82F6;
  }

  /* Mobile */
  @media (max-width: 600px) {
    .footer-links {
      grid-template-columns: 1fr 1fr;
    }
  }
</style>




<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Richsea Assistant Widget</title>
<style>
  :root{
    --accent:#0b74ff;
    --glass-bg: rgba(255,255,255,0.08);
    --glass-border: rgba(255,255,255,0.12);
  }
  /* Floating toggle */
  .chat-toggle {
    position: fixed;
    right: 20px;
    bottom: 20px;
    width: 64px; height: 64px;
    border-radius: 50%;
    background: var(--accent);
    color: #fff;
    font-size: 26px;
    display:flex;align-items:center;justify-content:center;
    cursor:pointer; z-index: 999999;
    box-shadow: 0 10px 30px rgba(11,116,255,0.2);
    transition: transform .18s;
    border: none;
  }
  .chat-toggle:hover{ transform: scale(1.06); }

  /* Chat window */
  .chat-window {
    position: fixed;
    right: 20px;
    bottom: 100px;
    width: 380px;
    max-width: calc(100% - 40px);
    height: 560px;
    border-radius: 14px;
    overflow: hidden;
    z-index: 999999;
    display:flex;flex-direction:column;
    box-shadow: 0 18px 45px rgba(2,6,23,0.35);
    font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  }

  /* Themes (background + header) */
  .theme-morning { background: linear-gradient(135deg,#f7fbff,#ffffff); color:#0b2b3a; }
  .theme-afternoon { background: linear-gradient(135deg,#fff7ee,#fff1df); color:#402800; }
  .theme-evening { background: linear-gradient(135deg,#0f1220,#0b1220); color:#eaeef8; }

  .chat-header{
    display:flex;align-items:center;justify-content:space-between;padding:12px 14px;
    font-weight:700; font-size:16px;
  }
  .chat-header .title { display:flex; align-items:center; gap:8px; }
  .chat-header .title .emoji { font-size:20px; }

  .chat-body {
    flex:1; padding:14px; overflow:auto; display:flex;flex-direction:column; gap:8px;
    backdrop-filter: blur(6px);
  }

  /* glass message bubble base */
  .msg {
    max-width: 78%;
    padding:10px 14px;
    border-radius: 14px;
    word-wrap: break-word;
    font-size:14px;
    line-height:1.35;
    backdrop-filter: blur(10px);
    border: 1px solid var(--glass-border);
    box-shadow: 0 6px 18px rgba(2,6,23,0.12);
  }

  /* bot (left) */
  .bot {
    align-self:flex-start;
    text-align:left;
    border-radius: 14px 14px 14px 4px;
  }

  /* user (right) */
  .user {
    align-self:flex-end;
    text-align:right;
    border-radius: 14px 14px 4px 14px;
  }

  /* theme-specific bubble tints */
  .theme-morning .bot { background: rgba(230,247,255,0.7); color:#004466; border-color: rgba(0,116,255,0.18); }
  .theme-morning .user { background: rgba(11,116,255,0.9); color:#fff; }

  .theme-afternoon .bot { background: rgba(255,229,179,0.85); color:#4a2c00; border-color: rgba(255,140,26,0.18); }
  .theme-afternoon .user { background: rgba(255,140,26,0.95); color:#fff; }

  .theme-evening .bot { background: rgba(44,44,84,0.9); color:#f0f0f0; border-color: rgba(106,90,205,0.18); }
  .theme-evening .user { background: rgba(106,90,205,0.9); color:#fff; }

  /* Collapsible controls inside messages */
  .collapsible {
    display:block;
    padding:8px 10px;
    border-radius:10px;
    cursor:pointer;
    font-weight:600;
    margin-top:8px;
    width:100%;
    text-align:left;
    border: 1px solid rgba(255,255,255,0.06);
    background: rgba(0,0,0,0.03);
  }
  .content { display:none; margin-top:8px; padding:10px; border-radius:10px; background: rgba(0,0,0,0.02); }

  /* Chat footer / input */
  .chat-footer { display:flex; gap:8px; padding:10px; align-items:center; border-top:1px solid rgba(0,0,0,0.06); }
  .chat-footer input {
    flex:1;padding:10px;border-radius:10px;border:1px solid rgba(0,0,0,0.08); outline:none; font-size:14px;
    background: transparent;
  }
  .send-btn { padding:10px 12px;border-radius:10px;border:none;cursor:pointer; font-weight:600; color:#fff; background:var(--accent); }
  .clear-btn { padding:8px 10px;border-radius:10px;border:none;cursor:pointer;background:#ff5a5a;color:#fff; font-size:13px; }

  /* action buttons inside messages */
  .chat-btn {
    display:inline-block;margin:6px 6px 6px 0;padding:8px 12px;border-radius:10px;text-decoration:none;
    font-size:13px;color:#fff;background:var(--accent);
  }
  .chat-btn:hover { opacity:0.95; transform:translateY(-2px); }

  /* quick-action strip */
  .quick-actions { display:flex; gap:8px; padding:10px; justify-content:center; flex-wrap:wrap; border-top:1px solid rgba(0,0,0,0.04); }
  .quick-actions button { padding:8px 12px;border-radius:10px;border:none;background:rgba(0,0,0,0.06); cursor:pointer; }

  /* small screens */
  @media(max-width:420px){ .chat-window{ right:12px; left:12px; width:auto; bottom:80px; } .chat-body{padding:10px;} }
</style>
</head>
<body>

<!-- Floating button -->
<button id="chatToggle" class="chat-toggle" title="Open Richsea chat"><span id="botIcon">💬</span></button>

<!-- Chat window -->
<div id="chatWindow" class="chat-window theme-morning" style="display:none;" role="dialog" aria-label="Richsea chat">
  <div class="chat-header">
    <div class="title"><span id="chatHeaderEmoji" class="emoji">☀️</span> <span id="chatHeaderTitle">Richsea Bot</span></div>
    <div style="display:flex;gap:8px;align-items:center;">
      <button id="clearChatBtn" class="clear-btn" style="display:none;">🗑️ Clear</button>
      <button id="closeChat" class="clear-btn" style="background:#6c757d;">✕</button>
    </div>
  </div>

  <div id="chatBody" class="chat-body" aria-live="polite">
    <!-- messages appended here -->
  </div>

  <div class="quick-actions" id="quickActions">
    <button data-query="price">💰 Price</button>
    <button data-query="buy">🛒 Buy</button>
    <button data-query="stake">⛓️ Stake</button>
    <button data-query="tokenomics">📊 Tokenomics</button>
    <button data-query="chart">📈 Chart</button>
    <button data-query="news">📰 News</button>
    <button data-query="future">🔮 Future</button>
  </div>

  <div class="chat-footer">
    <input id="chatInput" placeholder="Ask about Richsea (price, buy, stake, chart)..." autocomplete="off"/>
    <button id="sendBtn" class="send-btn">Send</button>
  </div>
</div>

<script>
/* ---------------- CONFIG ---------------- */
const CONTRACT = "0xb93d116A1CB1AEE03A64053542Ec966368652873".toLowerCase();
const BSCSCAN_API_KEY = ""; // <-- paste your BscScan API key here (recommended, free). Leave empty -> some tokenomics may return N/A.
/* ---------------------------------------- */

/* DOM refs */
const chatToggle = document.getElementById("chatToggle");
const chatWindow = document.getElementById("chatWindow");
const chatBody = document.getElementById("chatBody");
const chatInput = document.getElementById("chatInput");
const sendBtn = document.getElementById("sendBtn");
const closeChat = document.getElementById("closeChat");
const clearChatBtn = document.getElementById("clearChatBtn");
const botIcon = document.getElementById("botIcon");
const chatHeaderEmoji = document.getElementById("chatHeaderEmoji");
const chatHeaderTitle = document.getElementById("chatHeaderTitle");
const quickActions = document.getElementById("quickActions");

/* Local storage history */
let history = JSON.parse(localStorage.getItem("richseaHistory") || "[]");

/* Utilities */
function saveHistory(){ localStorage.setItem("richseaHistory", JSON.stringify(history)); }
function formatNumber(x){ if (x === null || x === undefined) return "N/A"; try { return Number(x).toLocaleString(); } catch(e){ return x; } }
function safeText(s){ const d = document.createElement("div"); d.textContent = s; return d.innerHTML; }

/* Theme & icon by local time */
function applyTheme(){
  const hour = new Date().getHours();
  chatWindow.classList.remove("theme-morning","theme-afternoon","theme-evening");
  if (hour < 12){
    botIcon.textContent = "☀️"; chatHeaderEmoji.textContent = "☀️"; chatHeaderTitle.textContent = "☀️ Richsea Bot";
    chatWindow.classList.add("theme-morning");
  } else if (hour < 18){
    botIcon.textContent = "🌇"; chatHeaderEmoji.textContent = "🌇"; chatHeaderTitle.textContent = "🌇 Richsea Bot";
    chatWindow.classList.add("theme-afternoon");
  } else {
    botIcon.textContent = "🌙"; chatHeaderEmoji.textContent = "🌙"; chatHeaderTitle.textContent = "🌙 Richsea Bot";
    chatWindow.classList.add("theme-evening");
  }
}
window.addEventListener("load", ()=>{ applyTheme(); setInterval(applyTheme,60000); restoreHistory(); });

/* UI message appender (bot messages allow HTML for links/buttons) */
function appendMsg(content, sender="bot", store=true){
  const el = document.createElement("div");
  el.className = `msg ${sender}`;
  if (sender === "bot"){
    el.innerHTML = content;
  } else {
    el.textContent = content;
  }
  chatBody.appendChild(el);
  chatBody.scrollTop = chatBody.scrollHeight;
  if (store) {
    history.push({ user: sender === "user" ? content.toString().toLowerCase() : null, bot: sender === "bot" ? content : null });
    // compress history: keep last 200 entries
    if (history.length > 400) history = history.slice(-400);
    saveHistory();
  }
}

/* Restore conversation from localStorage */
function restoreHistory(){
  if (!history || history.length === 0) {
    // greet user
    greetUser();
    return;
  }
  chatBody.innerHTML = "";
  for (const entry of history){
    if (entry.user) appendMsg(entry.user, "user", false);
    if (entry.bot) appendMsg(entry.bot, "bot", false);
  }
}

/* Clear chat */
clearChatBtn.addEventListener("click", ()=> {
  if (!confirm("Clear chat history?")) return;
  history = []; localStorage.removeItem("richseaHistory");
  chatBody.innerHTML = ""; greetUser();
});

/* Toggle chat open/close (clear button visible only when open) */
chatToggle.addEventListener("click", ()=> {
  const visible = chatWindow.style.display === "block";
  chatWindow.style.display = visible ? "none" : "block";
  clearChatBtn.style.display = visible ? "none" : "inline-block";
  if (!visible && history.length === 0) greetUser();
});
closeChat.addEventListener("click", ()=> { chatWindow.style.display = "none"; clearChatBtn.style.display = "none"; });

/* quick actions */
quickActions.addEventListener("click", (ev) => {
  const q = ev.target.dataset?.query;
  if (q) handleQuery(q);
});

/* greeting (time-aware) */
function greetUser(){
  const hour = new Date().getHours();
  let greeting = "Hello";
  if (hour < 12) greeting = "🌞 Good morning";
  else if (hour < 18) greeting = "🌤️ Good afternoon";
  else greeting = "🌙 Good evening";
  appendMsg(`${greeting}! 👋 I’m your Richsea Bot 🤖<br>Ask me about <b>price</b>, <b>how to buy</b>, <b>staking</b>, <b>tokenomics</b>, <b>chart</b>, or <b>news</b>.`);
}

/* ------------------ LIVE DATA FETCHERS ------------------ */

/* PancakeSwap GraphQL: live token data (priceUsd = derivedUSD) */
async function fetchPancakeToken(){
  const query = `{
    token(address: "${CONTRACT}") {
      id
      symbol
      name
      derivedUSD
      totalLiquidity
      tradeVolumeUSD
    }
  }`;
  try {
    const res = await fetch("https://proxy-worker-api.pancakeswap.com/bsc-exchange", {
      method:"POST",
      headers:{"Content-Type":"application/json"},
      body: JSON.stringify({ query })
    });
    const j = await res.json();
    return j?.data?.token || null;
  } catch(e){
    return null;
  }
}

/* BscScan: token supply (module=stats action=tokensupply) */
async function fetchSupplyFromBscScan(){
  if (!BSCSCAN_API_KEY) return null;
  try {
    const url = `https://api.bscscan.com/api?module=stats&action=tokensupply&contractaddress=${CONTRACT}&apikey=${BSCSCAN_API_KEY}`;
    const r = await fetch(url);
    const j = await r.json();
    // returns raw integer string. We can't be 100% sure of decimals; we'll attempt divide by 10**18 if it's large.
    let raw = j?.result;
    if (!raw) return null;
    // heuristics: if length > 18 assume 18 decimals
    if (raw.length > 18) {
      const num = Number(raw) / 1e18;
      return Number.isFinite(num) ? num : null;
    } else {
      return Number(raw);
    }
  } catch(e){ return null; }
}

/* BscScan: holders count — BscScan API doesn't expose holderCount directly in some accounts.
   Try tokenholderlist with offset=1 and parse total - fallback to null.
*/
async function fetchHoldersFromBscScan(){
  if (!BSCSCAN_API_KEY) return null;
  try {
    // This endpoint may not return a count; attempt and fallback gracefully.
    const url = `https://api.bscscan.com/api?module=token&action=getTokenInfo&contractaddress=${CONTRACT}&apikey=${BSCSCAN_API_KEY}`;
    const r = await fetch(url);
    const j = await r.json();
    if (j && j.status == "1" && j.result && typeof j.result.holders === "number") return j.result.holders;
    // fallback: try tokenholderlist (may not include count)
    return null;
  } catch(e){ return null; }
}

/* ------------------ BOT INTENTS / RESPONSES ------------------ */

async function handleQuery(rawQuery){
  const q = rawQuery.trim();
  if (!q) return;
  appendMsg(q, "user");

  // run responder
  appendMsg("⏳ Fetching Richsea info...", "bot");
  const reply = await searchRichsea(q);
  // remove last "fetching" placeholder (simple approach: remove last bot msg if it contains 'Fetching')
  const botMsgs = Array.from(chatBody.querySelectorAll(".msg.bot"));
  const lastBot = botMsgs[botMsgs.length -1];
  if (lastBot && /Fetching|Searching/.test(lastBot.textContent)) lastBot.remove();

  appendMsg(reply, "bot");
}

/* Collapsible toggles inside chat (delegated) */
document.addEventListener("click", (ev) => {
  if (ev.target.classList.contains("collapsible")){
    const content = ev.target.nextElementSibling;
    if (!content) return;
    const open = content.style.display === "block";
    content.style.display = open ? "none" : "block";
    ev.target.innerHTML = open ? "📖 Show Full Guide ⬇️" : "📕 Hide Guide ⬆️";
  }
});

/* Main intent router */
async function searchRichsea(query){
  const low = query.toLowerCase();

  // PRICE / CHART
  if (/\b(price|value|worth)\b/.test(low) || low.includes("chart") || low.includes("graph")){
    const token = await fetchPancakeToken();
    if (!token) return `<b>💥 Live price unavailable</b><br>Could not fetch PancakeSwap data right now. Try again later.`;
    const price = Number(token.derivedUSD || 0);
    const liquidity = token.totalLiquidity || "N/A";
    return `<h4>💰 Richsea Live Price</h4>
      <p><b>${token.name || "Richsea"} (${token.symbol || "RICHSEA"})</b><br>
      Price: <b>$${price.toFixed(8)}</b><br>
      Liquidity (est): <b>$${formatNumber(liquidity)}</b></p>
      <div>
        <a class="chat-btn" href="https://pancakeswap.finance/swap?outputCurrency=${token.id}" target="_blank">🛒 Buy on PancakeSwap</a>
        <a class="chat-btn" href="https://bscscan.com/token/${token.id}" target="_blank">🔎 View on BscScan</a>
      </div>
      <h4>📊 Live Chart</h4>
      <iframe style="width:100%;height:260px;border-radius:8px;border:0;margin-top:8px;" src="https://dexscreener.com/bsc/${token.id}?embed=1&theme=light"></iframe>`;
  }

  // HOW TO BUY (collapsible)
  if (/\b(buy|purchase|get richsea|get token)\b/.test(low)){
    return `🛒 <b>How to Buy RICHSEA</b><br><br>
      Buying RICHSEA is simple. Start by expanding the full guide if you need step-by-step instructions.<br><br>
      <div class="collapsible">📖 Show Full Buying Guide ⬇️</div>
      <div class="content">
        <b>Contract:</b> <code>${CONTRACT}</code><br><br>
        <b>Steps</b><br>
        1️⃣ Install a BSC wallet (MetaMask, Trust Wallet).<br>
        2️⃣ Buy BNB and send to your BSC wallet.<br>
        3️⃣ Open PancakeSwap and paste the contract (or click the Buy button).<br>
        4️⃣ Set slippage (start at 1–3%). Do a small test swap first.<br>
        5️⃣ Swap BNB → RICHSEA and add the token to your wallet.<br><br>
        <b>Quick actions</b><br>
        <a class="chat-btn" href="https://pancakeswap.finance/swap?outputCurrency=${CONTRACT}" target="_blank">🛒 Swap on PancakeSwap</a>
        <a class="chat-btn" href="https://bscscan.com/token/${CONTRACT}" target="_blank">🔎 View on BscScan</a><br><br>
        <i>⚠️ Not financial advice. Start small & verify the contract.</i>
      </div>`;
  }

  // STAKING (collapsible accordion)
  if (/\b(stake|staking|staked)\b/.test(low)){
    return `🌊 <b>How to Stake Richsea ($RICHSEA)</b><br>
      Lock tokens to earn rewards and support the ecosystem. Expand for the full step-by-step.<br><br>
      <div class="collapsible">📖 Show Full Staking Guide ⬇️</div>
      <div class="content">
        <b>What you need</b><br>
        • Web3 wallet (MetaMask / Trust Wallet / Coinbase Wallet)<br>
        • $RICHSEA tokens + BNB for gas<br>
        • Official staking app: <a class="chat-btn" href="https://richsea.online" target="_blank">🌐 richsea.online</a><br><br>

        <b>Step-by-step</b><br>
        1️⃣ Open the official Web App & go to Staking.<br>
        2️⃣ Connect your wallet and choose a staking pool (Flexible / Locked).<br>
        3️⃣ Approve $RICHSEA (one-time permission) & confirm in wallet.<br>
        4️⃣ Stake (deposit) tokens and confirm.<br>
        5️⃣ Claim rewards via Claim/Harvest. Unstake after lock ends if locked.<br><br>

        <b>Security tips</b><br>
        • Only use <a class="chat-btn" href="https://richsea.online" target="_blank">richsea.online</a>.<br>
        • Never share seed phrase/private key.<br>
        • Verify contract addresses on official channels.<br><br>

        <a class="chat-btn" href="https://richsea.online" target="_blank">🌐 Stake Now</a>
        <a class="chat-btn" href="https://bscscan.com/token/${CONTRACT}" target="_blank">🔎 View on BscScan</a>
      </div>`;
  }

  // TOKENOMICS (live where possible)
  if (/\b(tokenomics|supply|holders|market cap|circulating)\b/.test(low)){
    try {
      const token = await fetchPancakeToken();
      const supply = await fetchSupplyFromBscScan(); // may be null if no API key
      const holders = await fetchHoldersFromBscScan();
      let marketCap = null;
      if (supply && token && token.derivedUSD) marketCap = Number(supply) * Number(token.derivedUSD);
      return `<h4>📊 Tokenomics (live)</h4>
        • Contract: <code>${CONTRACT}</code><br>
        • Total Supply: <b>${supply ? formatNumber(supply) + " RICHSEA" : "N/A"}</b><br>
        • Holders: <b>${holders ? formatNumber(holders) : "N/A"}</b><br>
        • Price: <b>$${token && token.derivedUSD ? Number(token.derivedUSD).toFixed(8) : "N/A"}</b><br>
        • Liquidity (est): <b>$${token && token.totalLiquidity ? formatNumber(token.totalLiquidity) : "N/A"}</b><br>
        • Market Cap (est): <b>${marketCap ? "$" + formatNumber(marketCap.toFixed(0)) : "N/A"}</b><br><br>
        <a class="chat-btn" href="https://bscscan.com/token/${CONTRACT}" target="_blank">🔎 View on BscScan</a>`;
    } catch(e){
      return "⚠️ Unable to fetch tokenomics at the moment. Try again shortly.";
    }
  }

  // CHART (embed)
  if (/\b(chart|price chart|chart)\b/.test(low)){
    return `<h4>📈 Live Richsea Chart</h4>
      <iframe style="width:100%;height:360px;border:0;border-radius:8px;" src="https://dexscreener.com/bsc/${CONTRACT}?embed=1&theme=light"></iframe>
      <div style="margin-top:8px;">
        <a class="chat-btn" href="https://dexscreener.com/bsc/${CONTRACT}" target="_blank">Open full chart</a>
      </div>`;
  }

  // NEWS (static links / manual)
  if (/\b(news|announcement|announcements|update)\b/.test(low)){
    return `<h4>📰 Richsea News & Trackers</h4>
      • Official site: <a class="chat-btn" href="https://richsea.online" target="_blank">richsea.online</a><br>
      • Trackers: <a class="chat-btn" href="https://poocoin.app/tokens/${CONTRACT}" target="_blank">Poocoin</a>
      <a class="chat-btn" href="https://dexscreener.com/bsc/${CONTRACT}" target="_blank">DexScreener</a><br><br>
      Tip: Follow official social channels for real-time announcements.`;
  }

  // FUTURE / PREDICTIONS (collapsible)
  if (/\b(future|5 year
